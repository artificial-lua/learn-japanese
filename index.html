<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>일본어 배우자</title>
    <link rel="stylesheet" href="theme.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div id="config" class="config-modal hidden">
        <div class="config-overlay"></div>
        <div id="config-window" class="config-content">
            <div class="config-header">
                <h1>게임 설정</h1>
            </div>
            <div class="config-body">
                <form id="config-form">
                    <div class="form-group">
                        <label for="script">문자 세트:</label>
                        <select id="script" name="script">
                            <option value="hiragana">히라가나</option>
                            <option value="katakana">가타카나</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="theme">테마:</label>
                        <select id="theme" name="theme">
                            <option value="dark">다크</option>
                            <option value="light">라이트</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="input-mode">입력 모드:</label>
                        <select id="input-mode" name="input-mode">
                            <option value="options">선택지</option>
                            <option value="typing">직접 입력</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="reveal-answers">정답 공개</label>
                        <label class="toggle-switch" aria-label="정답 공개">
                            <input id="reveal-answers" class="toggle-input" type="checkbox" />
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                    <button type="submit" class="start-button">시작하기</button>
                </form>
            </div>
        </div>
    </div>
    <header class="topbar">
        <div class="topbar-wrap">
            <span id="elapsed" class="timer" aria-live="polite" aria-label="경과 시간">00:00</span>
            <span></span>
            <button id="settings-toggle" class="settings-toggle" type="button" aria-label="설정 열기">⚙️</button>
        </div>
    </header>

    <main class="game" id="app">
        <!-- 상단: 문제용 큰 정사각형 카드 -->
        <button class="prompt card square" id="prompt" type="button" aria-label="문제">
            <span class="prompt-text" id="question-char" aria-live="polite">준비</span>
            <div id="answer-hint" class="answer-hint" role="status" aria-live="polite"></div>
            <!-- Appears after a correct answer -->
            <span class="next-arrow" aria-hidden="true" title="다음">
                <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false">
                    <path d="M5 12h12M13 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </span>
        </button>

        <!-- 하단: 선택지 4개의 정사각형 카드 -->
        <section class="options" aria-label="선택지">
            <button class="option card square" data-index="0" type="button">
                <span class="option-text"></span>
            </button>
            <button class="option card square" data-index="1" type="button">
                <span class="option-text"></span>
            </button>
            <button class="option card square" data-index="2" type="button">
                <span class="option-text"></span>
            </button>
            <button class="option card square" data-index="3" type="button">
                <span class="option-text"></span>
            </button>
        </section>

        <!-- 하단: 직접 입력 모드 -->
        <section id="typing-section" class="input-section hidden" aria-label="직접 입력">
            <label for="typing-input" class="visually-hidden">정답 입력</label>
            <input id="typing-input" class="answer-input" type="text" inputmode="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="정답을 입력하고 Enter를 누르세요" />
        </section>
    </main>

    <footer class="bottombar" aria-label="통계">
        <div class="bottombar-wrap">
            <div class="stat">
                <div class="stat-head">
                    <span class="stat-label">정답률</span>
                    <span id="accuracy-text" class="stat-value" aria-live="polite">0%</span>
                </div>
                <div class="progress" role="progressbar" aria-label="정답률" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div id="accuracy-fill" class="progress-fill" style="width:0%"></div>
                </div>
            </div>

            <div class="stat">
                <div class="stat-head">
                    <span class="stat-label">평균 대비 시간</span>
                    <span id="time-text" class="stat-value" aria-live="polite">–</span>
                </div>
                <div class="progress" role="progressbar" aria-label="평균 대비 시간" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div id="time-fill" class="progress-fill alt" style="width:0%"></div>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>
